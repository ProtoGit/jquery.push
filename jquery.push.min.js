/**
 * https://github.com/ProtoGit/jquery.push
 */
!function(t){function n(t){if("string"==typeof t)return t;if("object"==typeof t){var n=t.get?t.get(0):unkown;if(n.tagName){var e=n.tagName.toLowerCase();if("form"==e)return n.action;if("a"==e)return n.href}}throw new Error("Invalid push() URI argument")}function e(n,e,s,a){var o=function(t){if(!t.responseJSON)throw new Error("Response must be valid JSON");var e=t.responseJSON;if(!(e.title||e.content&&e.fragments))throw new Error("Invalid JSON response");var o={response:e};s&&(o.target=s),"function"==typeof a&&(o.callback=a.toString()),window.history.pushState(o,e.title,n),r(o)},u={url:n,dataType:"json",complete:o};e&&(u.type="POST",u.data=e),t.ajax(u)}function r(n){if(n.response.title&&(window.document.title=n.response.title),n.target&&n.response.content&&t(n.target).html(n.response.content),n.response.fragments&&t.each(n.response.fragments,function(n,e){t("#"+n).html(e)}),n.callback){var e=Function("return "+n.callback)();e(n.response)}}if(!1 in window||!1 in window.history)throw new Error("No pushState API support");t.push=function(){if(0===arguments.length)throw new Error("Invalid push() arguments");return 1===arguments.length?e(n(arguments[0])):2===arguments.length&&"function"==typeof arguments[1]?e(n(arguments[0]),null,null,arguments[1]):e(n(arguments[0]),null,arguments[1],arguments[2])},t.postPush=function(){if(arguments.length<2)throw new Error("Invalid postPush() arguments");return 2===arguments.length?e(n(arguments[0]),arguments[1]):3===arguments.length&&"function"==typeof arguments[2]?e(n(arguments[0]),arguments[1],null,arguments[2]):e(n(arguments[0]),arguments[1],arguments[2],arguments[3])},t(window).on("popstate",function(t){t.originalEvent.state&&r(t.originalEvent.state)})}(jQuery);
